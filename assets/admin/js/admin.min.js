Skeleton.deleteFilesWithAssets=function(){var i=yii.confirm;yii.confirm=function(t,e,o){var a=$(this);if(!a.data("delete-url"))return $.proxy(i,a,t,e,o)();bootbox.prompt({title:t,inputType:"checkbox",inputOptions:[{text:a.data("delete-message"),value:1}],callback:function(t){null!==t&&$.post(t.length?a.data("delete-url"):a.attr("href"),function(){a.closest("tr").remove()})}})}},Skeleton.mediaFileImport=function(){var o=this;$(".btn-import").on("click",function(){var t=$(this),e=t.data("url");bootbox.prompt({title:t.data("title"),inputType:"text",placeholder:t.data("placeholder"),buttons:{confirm:{label:t.data("confirm")}},callback:function(t){null!==t&&t.length&&e&&$.ajax({url:e,data:{url:t},method:"post",success:function(){o.replaceWithAjax("#files")}})}})})},Skeleton.registerImageCrop=function(){var o,e=$("#image"),a=["width","height","x","y"],i=$(".show-on-crop-end"),t=$("#image-clear"),n=$("#image-ratio");function l(t){o&&o.destroy(),o=new Cropper(e[0],{autoCrop:!1,guides:!1,minContainerHeight:1,minContainerWidth:1,modal:!1,movable:!1,rotatable:!1,scalable:!1,viewMode:3,zoomable:!1,aspectRatio:t,cropend:function(){var e=o.getData(!0);a.forEach(function(t){$("#image-"+t).val(e[t])}),i.show()}})}function c(){a.forEach(function(t){$("#image-"+t).val("")}),o.clear()}t.click(function(){c(),i.hide()}),n.change(function(){l($(this).find("option:selected").val()),c()}),l()};